Started GET "/restaurants/3/" for 127.0.0.1 at 2023-11-17 10:12:52 +0100
  [1m[36mActiveRecord::SchemaMigration Load (37.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRestaurant Load (52.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:15:in `show'
  [1m[36mRank Load (307.4ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as rest_val FROM "ranks" WHERE "ranks"."what" = $1 GROUP BY "ranks"."what"[0m  [["what", 3]]
  â†³ app/controllers/restaurants_controller.rb:17:in `show'
  [1m[35m (42.6ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (50.0ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (37.8ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (36.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."restaurant_id" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (51.0ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND restaurant_id=3 GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[35m (68.0ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Like' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (53.0ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Dislike' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (35.9ms)[0m  [1m[34mSELECT reviews.id, COUNT(responses.id) as resp_count FROM reviews LEFT JOIN responses ON respondable_id=reviews.id AND respondable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mReview Load (32.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 ORDER BY "reviews"."id" ASC LIMIT $3[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (53.5ms)[0m  [1m[34mSELECT reviews.id, reactions.id as reaction_id FROM reviews LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=reviews.id AND reactions.reactionable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/_header.html.erb (Duration: 902.7ms | Allocations: 74217)
  [1m[36mDish Load (373.3ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/views/restaurants/show.html.erb:9
  [1m[36mReview Load (45.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/views/layouts/_comment.html.erb:2
  Rendered layouts/_reaction.html.erb (Duration: 3.9ms | Allocations: 864)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 404)
  Rendered layouts/_comment.html.erb (Duration: 118.7ms | Allocations: 5655)
  Rendered layouts/_add_comment.html.erb (Duration: 2.3ms | Allocations: 643)
  [1m[35m (50.1ms)[0m  [1m[34mSELECT posts.* FROM posts, users, restaurants_users as ru WHERE ru.user_id=users.nombre AND ru.restaurant_id=3 AND posts.autor=users.nombre AND posts.restaurant_id=3[0m
  â†³ app/helpers/restaurants_helper.rb:3:in `get_rest_managers_posts'
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 10.8ms | Allocations: 3258)
  Rendered restaurants/show.html.erb within layouts/application (Duration: 1764.9ms | Allocations: 95072)
  Rendered layouts/_header.html.erb (Duration: 3.5ms | Allocations: 1308)
  [1m[36mUser Load (315.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 465.6ms | Allocations: 11343)
  Rendered layout layouts/application.html.erb (Duration: 2323.1ms | Allocations: 126538)
Completed 200 OK in 4744ms (Views: 1305.9ms | ActiveRecord: 2854.4ms | Allocations: 198214)


Started GET "/reviews/4/responses" for 127.0.0.1 at 2023-11-17 10:13:16 +0100
Processing by ReviewResponsesController#index as HTML
  Parameters: {"review_id"=>"4"}
  [1m[36mReview Load (54.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/review_responses_controller.rb:5:in `index'
  [1m[35m (56.9ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Like' AND respondable_id=4 AND respondable_type='Review' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (47.6ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Dislike' AND respondable_id=4 AND respondable_type='Review' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[36mResponse Load (56.9ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 4], ["respondable_type", "Review"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:27:in `each'
  [1m[35m (64.7ms)[0m  [1m[34mSELECT responses.id, reactions.id as reaction_id FROM responses LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=responses.id AND reactions.reactionable_type='Response' AND respondable_id=4 AND respondable_type='Review' GROUP BY responses.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[36mReaction Load (35.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 4], ["reactionable_type", "Review"], ["reaccion", "Like"]]
  â†³ app/controllers/review_responses_controller.rb:9:in `index'
  [1m[36mReaction Load (39.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 4], ["reactionable_type", "Review"], ["reaccion", "Dislike"]]
  â†³ app/controllers/review_responses_controller.rb:9:in `index'
  [1m[36mResponse Count (50.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2[0m  [["respondable_id", 4], ["respondable_type", "Review"]]
  â†³ app/controllers/review_responses_controller.rb:9:in `size'
  [1m[36mReaction Load (56.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."who" = $3 LIMIT $4[0m  [["reactionable_id", 4], ["reactionable_type", "Review"], ["who", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/review_responses_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering review_responses/index.html.erb within layouts/application
  Rendered layouts/_reaction.html.erb (Duration: 1.5ms | Allocations: 604)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 403)
  Rendered layouts/_comment.html.erb (Duration: 7.3ms | Allocations: 2374)
  [1m[36mResponse Load (37.4ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 4], ["respondable_type", "Review"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 1.2ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 2.1ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 48.9ms | Allocations: 2439)
  Rendered layouts/_add_comment.html.erb (Duration: 1.0ms | Allocations: 492)
  Rendered review_responses/index.html.erb within layouts/application (Duration: 59.2ms | Allocations: 5734)
  Rendered layouts/_header.html.erb (Duration: 3.1ms | Allocations: 1015)
  [1m[36mUser Load (31.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 40.9ms | Allocations: 3364)
  Rendered layout layouts/application.html.erb (Duration: 112.5ms | Allocations: 13810)
Completed 200 OK in 1329ms (Views: 45.3ms | ActiveRecord: 770.1ms | Allocations: 31938)


Started GET "/categories/chino" for 127.0.0.1 at 2023-11-17 10:13:37 +0100
Processing by CategoriesController#show as HTML
  Parameters: {"nombre"=>"chino"}
  [1m[36mCategory Load (33.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "chino"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (287.5ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (32.8ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (34.9ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (34.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (32.1ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='chino' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (66.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 2.6ms | Allocations: 595)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.3ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 116.8ms | Allocations: 31195)
  Rendered layouts/_add_comment.html.erb (Duration: 0.7ms | Allocations: 485)
  Rendered categories/show.html.erb within layouts/application (Duration: 119.3ms | Allocations: 31981)
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1001)
  [1m[36mUser Load (42.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 51.2ms | Allocations: 3326)
  Rendered layout layouts/application.html.erb (Duration: 176.8ms | Allocations: 39927)
Completed 200 OK in 856ms (Views: 70.3ms | ActiveRecord: 599.9ms | Allocations: 47027)


Started POST "/reactions" for 127.0.0.1 at 2023-11-17 10:14:04 +0100
Processing by ReactionsController#create as TURBO_STREAM
  Parameters: {"reaction"=>{"reaccion"=>"Like", "reactionable_id"=>"20", "reactionable_type"=>"Post"}}
  [1m[36mReaction Exists? (438.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reactionable_id" = $2 AND "reactions"."reactionable_type" = $3 LIMIT $4[0m  [["who", "Atreides"], ["reactionable_id", 20], ["reactionable_type", "Post"], ["LIMIT", 1]]
  â†³ app/controllers/reactions_controller.rb:10:in `create'
  [1m[36mPost Load (54.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/reactions_controller.rb:10:in `create'
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reactionable_id" = $2 AND "reactions"."reactionable_type" = $3 LIMIT $4[0m  [["who", "Atreides"], ["reactionable_id", 20], ["reactionable_type", "Post"], ["LIMIT", 1]]
  â†³ app/controllers/reactions_controller.rb:10:in `create'
  [1m[36mTRANSACTION (32.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/reactions_controller.rb:10:in `create'
  [1m[36mReaction Create (1438.5ms)[0m  [1m[32mINSERT INTO "reactions" ("who", "reactionable_type", "reactionable_id", "reaccion") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["who", "Atreides"], ["reactionable_type", "Post"], ["reactionable_id", 20], ["reaccion", "Like"]]
  â†³ app/controllers/reactions_controller.rb:10:in `create'
  [1m[36mTRANSACTION (45.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/reactions_controller.rb:10:in `create'
Redirected to http://localhost:3000/categories/chino
Completed 302 Found in 2077ms (ActiveRecord: 2008.8ms | Allocations: 5757)


Started GET "/categories/chino" for 127.0.0.1 at 2023-11-17 10:14:06 +0100
Processing by CategoriesController#show as TURBO_STREAM
  Parameters: {"nombre"=>"chino"}
  [1m[36mCategory Load (36.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "chino"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (36.8ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (56.8ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (47.3ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (312.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (35.5ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='chino' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (54.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 2.0ms | Allocations: 598)
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 1.9ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 1.7ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 2.3ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 129.6ms | Allocations: 31221)
  Rendered layouts/_add_comment.html.erb (Duration: 1.4ms | Allocations: 491)
  Rendered categories/show.html.erb within layouts/application (Duration: 132.2ms | Allocations: 31896)
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1013)
  [1m[36mUser Load (34.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 43.3ms | Allocations: 3359)
  Rendered layout layouts/application.html.erb (Duration: 184.6ms | Allocations: 39927)
Completed 200 OK in 725ms (Views: 96.2ms | ActiveRecord: 614.6ms | Allocations: 43998)


Started GET "/posts/19/responses" for 127.0.0.1 at 2023-11-17 10:14:12 +0100
Processing by PostResponsesController#index as HTML
  Parameters: {"post_id"=>"19"}
  [1m[36mPost Load (62.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:22:in `index'
  [1m[35m (31.8ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Like' AND respondable_id=19 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (34.8ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Dislike' AND respondable_id=19 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[36mResponse Load (45.8ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 19], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:27:in `each'
  [1m[35m (39.9ms)[0m  [1m[34mSELECT responses.id, reactions.id as reaction_id FROM responses LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=responses.id AND reactions.reactionable_type='Response' AND respondable_id=19 AND respondable_type='Post' GROUP BY responses.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[36mReaction Load (317.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 19], ["reactionable_type", "Post"], ["reaccion", "Like"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mReaction Load (291.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 19], ["reactionable_type", "Post"], ["reaccion", "Dislike"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mResponse Count (65.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2[0m  [["respondable_id", 19], ["respondable_type", "Post"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `size'
  [1m[36mReaction Load (45.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."who" = $3 LIMIT $4[0m  [["reactionable_id", 19], ["reactionable_type", "Post"], ["who", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:27:in `index'
  Rendering layout layouts/application.html.erb
  Rendering post_responses/index.html.erb within layouts/application
  Rendered layouts/_reaction.html.erb (Duration: 2.7ms | Allocations: 598)
  Rendered layouts/_reaction.html.erb (Duration: 1.2ms | Allocations: 402)
  Rendered layouts/_comment.html.erb (Duration: 11.5ms | Allocations: 2348)
  [1m[36mResponse Load (89.9ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 19], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 2.0ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 111.5ms | Allocations: 5777)
  Rendered layouts/_add_comment.html.erb (Duration: 1.3ms | Allocations: 486)
  Rendered post_responses/index.html.erb within layouts/application (Duration: 127.5ms | Allocations: 9032)
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1003)
  [1m[36mUser Load (51.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 62.3ms | Allocations: 3324)
  Rendered layout layouts/application.html.erb (Duration: 197.1ms | Allocations: 17003)
Completed 200 OK in 1154ms (Views: 57.2ms | ActiveRecord: 1075.4ms | Allocations: 23381)


Started GET "/users/Atreides" for 127.0.0.1 at 2023-11-17 10:14:22 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"Atreides"}
  [1m[36mUser Load (226.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:23:in `show'
  [1m[36mPost Count (385.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  [1m[36mReview Count (76.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:28:in `show'
  [1m[36mResponse Count (70.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:31:in `show'
  [1m[36mPost Count (38.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1 AND (created_at > '2023-10-17 09:14:23.273009')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:35:in `show'
  [1m[36mReview Count (483.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1 AND (created_at > '2023-10-17 09:14:23.315278')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:36:in `show'
  [1m[36mResponse Count (59.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1 AND (created_at > '2023-10-17 09:14:23.800557')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:37:in `show'
  [1m[36mRestaurant Count (59.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:40:in `show'
  [1m[36mRestaurant Load (50.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:49:in `show'
  [1m[36mReview Count (75.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 09:14:24.216322')[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/controllers/users_controller.rb:50:in `block in show'
  [1m[36mDish Load (43.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/controllers/users_controller.rb:52:in `block in show'
  [1m[36mReview Count (445.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 09:14:24.340831')[0m  [["reviewable_id", 4], ["reviewable_type", "Dish"]]
  â†³ app/controllers/users_controller.rb:53:in `block (2 levels) in show'
  [1m[36mReaction Count (46.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Like"]]
  â†³ app/controllers/users_controller.rb:55:in `block in show'
  [1m[36mReaction Count (58.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Dislike"]]
  â†³ app/controllers/users_controller.rb:56:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 38.3ms | Allocations: 3643)
  Rendered layouts/_header.html.erb (Duration: 2.9ms | Allocations: 1014)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 6.2ms | Allocations: 3258)
  Rendered layout layouts/application.html.erb (Duration: 57.3ms | Allocations: 11580)
Completed 200 OK in 2455ms (Views: 58.5ms | ActiveRecord: 2150.8ms | Allocations: 22869)


Started GET "/categories" for 127.0.0.1 at 2023-11-17 10:14:49 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (182.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 191.3ms | Allocations: 2971)
  Rendered layouts/_header.html.erb (Duration: 4.1ms | Allocations: 1027)
  [1m[36mUser Load (383.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 398.4ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 603.9ms | Allocations: 11161)
Completed 200 OK in 634ms (Views: 40.1ms | ActiveRecord: 565.3ms | Allocations: 11486)


Started GET "/users/Atreides" for 127.0.0.1 at 2023-11-17 10:14:53 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"Atreides"}
  [1m[36mUser Load (708.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:23:in `show'
  [1m[36mPost Count (73.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  [1m[36mReview Count (135.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:28:in `show'
  [1m[36mResponse Count (44.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:31:in `show'
  [1m[36mPost Count (154.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1 AND (created_at > '2023-10-17 09:14:54.853485')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:35:in `show'
  [1m[36mReview Count (200.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1 AND (created_at > '2023-10-17 09:14:55.011742')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:36:in `show'
  [1m[36mResponse Count (460.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1 AND (created_at > '2023-10-17 09:14:55.214263')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:37:in `show'
  [1m[36mRestaurant Count (95.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:40:in `show'
  [1m[36mRestaurant Load (79.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:49:in `show'
  [1m[36mReview Count (216.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 09:14:55.860388')[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/controllers/users_controller.rb:50:in `block in show'
  [1m[36mDish Load (55.4ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/controllers/users_controller.rb:52:in `block in show'
  [1m[36mReview Count (107.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 09:14:56.138336')[0m  [["reviewable_id", 4], ["reviewable_type", "Dish"]]
  â†³ app/controllers/users_controller.rb:53:in `block (2 levels) in show'
  [1m[36mReaction Count (53.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Like"]]
  â†³ app/controllers/users_controller.rb:55:in `block in show'
  [1m[36mReaction Count (56.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Dislike"]]
  â†³ app/controllers/users_controller.rb:56:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2155)
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1002)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 9.9ms | Allocations: 3221)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 9987)
Completed 200 OK in 2520ms (Views: 30.0ms | ActiveRecord: 2439.8ms | Allocations: 17202)


Started GET "/logout" for 127.0.0.1 at 2023-11-17 10:14:56 +0100
Processing by LoginsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 439)


Started GET "/" for 127.0.0.1 at 2023-11-17 10:14:56 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (248.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 257.9ms | Allocations: 2712)
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1039)
  Rendered layouts/_sidenav.html.erb (Duration: 3.7ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 269.4ms | Allocations: 10584)
Completed 200 OK in 273ms (Views: 22.9ms | ActiveRecord: 248.2ms | Allocations: 10846)


Started GET "/admin" for 127.0.0.1 at 2023-11-17 10:15:01 +0100
Processing by AdminController#dashboard as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin/dashboard.html.erb within layouts/application
  Rendered admin/dashboard.html.erb within layouts/application (Duration: 1.0ms | Allocations: 342)
  Rendered layouts/_header.html.erb (Duration: 2.1ms | Allocations: 1027)
  Rendered layouts/_sidenav.html.erb (Duration: 10.1ms | Allocations: 2931)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 8312)
Completed 200 OK in 26ms (Views: 25.4ms | ActiveRecord: 0.0ms | Allocations: 8723)


Started GET "/logout" for 127.0.0.1 at 2023-11-17 10:15:27 +0100
Processing by LoginsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 380)


Started GET "/" for 127.0.0.1 at 2023-11-17 10:15:27 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (249.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 262.5ms | Allocations: 2703)
  Rendered layouts/_header.html.erb (Duration: 3.5ms | Allocations: 1027)
  Rendered layouts/_sidenav.html.erb (Duration: 11.9ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 294.4ms | Allocations: 10499)
Completed 200 OK in 297ms (Views: 46.7ms | ActiveRecord: 249.4ms | Allocations: 10760)


Started GET "/categories/burger" for 127.0.0.1 at 2023-11-17 10:15:54 +0100
Processing by CategoriesController#show as HTML
  Parameters: {"nombre"=>"burger"}
  [1m[36mCategory Load (49.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "burger"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (38.6ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (32.7ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (41.2ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (54.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "burger"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (55.3ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='burger' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (352.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "burger"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 1.5ms | Allocations: 596)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.5ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 372.7ms | Allocations: 6220)
  Rendered layouts/_add_comment.html.erb (Duration: 1.7ms | Allocations: 491)
  Rendered categories/show.html.erb within layouts/application (Duration: 375.0ms | Allocations: 6852)
  Rendered layouts/_header.html.erb (Duration: 2.0ms | Allocations: 1001)
  Rendered layouts/_sidenav.html.erb (Duration: 5.8ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 392.4ms | Allocations: 14414)
Completed 200 OK in 679ms (Views: 41.3ms | ActiveRecord: 623.7ms | Allocations: 17254)


Started GET "/restaurants" for 127.0.0.1 at 2023-11-17 10:15:58 +0100
Processing by RestaurantsController#index as HTML
  [1m[36mRank Load (69.3ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as total_valoracion FROM "ranks" GROUP BY "ranks"."what" ORDER BY total_valoracion DESC[0m
  â†³ app/controllers/restaurants_controller.rb:11:in `map'
  [1m[36mRestaurant Load (43.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (45.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (32.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mCategory Load (35.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/restaurants/index.html.erb:44
  [1m[36mRestaurant Load (52.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:51
  Rendered restaurants/index.html.erb within layouts/application (Duration: 111.7ms | Allocations: 7490)
  Rendered layouts/_header.html.erb (Duration: 1.9ms | Allocations: 1015)
  Rendered layouts/_sidenav.html.erb (Duration: 4.6ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 125.6ms | Allocations: 15335)
Completed 200 OK in 326ms (Views: 38.6ms | ActiveRecord: 278.1ms | Allocations: 17339)


Started GET "/restaurants" for 127.0.0.1 at 2023-11-17 10:16:06 +0100
Processing by RestaurantsController#index as HTML
  [1m[36mRank Load (98.7ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as total_valoracion FROM "ranks" GROUP BY "ranks"."what" ORDER BY total_valoracion DESC[0m
  â†³ app/controllers/restaurants_controller.rb:11:in `map'
  [1m[36mRestaurant Load (39.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (47.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (34.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mCategory Load (65.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/restaurants/index.html.erb:44
  [1m[36mRestaurant Load (37.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:51
  Rendered restaurants/index.html.erb within layouts/application (Duration: 125.6ms | Allocations: 6733)
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 4.0ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 137.2ms | Allocations: 14528)
Completed 200 OK in 368ms (Views: 35.7ms | ActiveRecord: 322.1ms | Allocations: 16428)


Started GET "/restaurants?filter=burger" for 127.0.0.1 at 2023-11-17 10:16:13 +0100
Processing by RestaurantsController#index as HTML
  Parameters: {"filter"=>"burger"}
  [1m[36mRank Load (198.9ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as total_valoracion FROM "ranks" GROUP BY "ranks"."what" ORDER BY total_valoracion DESC[0m
  â†³ app/controllers/restaurants_controller.rb:11:in `map'
  [1m[36mRestaurant Load (99.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (39.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (49.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mCategory Load (51.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/restaurants/index.html.erb:44
  [1m[36mRestaurant Load (31.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."categoria" = $1[0m  [["categoria", "burger"]]
  â†³ app/views/restaurants/index.html.erb:51
  Rendered restaurants/index.html.erb within layouts/application (Duration: 133.9ms | Allocations: 4974)
  Rendered layouts/_header.html.erb (Duration: 2.2ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 5.8ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 147.9ms | Allocations: 12744)
Completed 200 OK in 546ms (Views: 67.2ms | ActiveRecord: 470.3ms | Allocations: 14673)


Started GET "/restaurants" for 127.0.0.1 at 2023-11-17 10:16:18 +0100
Processing by RestaurantsController#index as HTML
  [1m[36mRank Load (463.2ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as total_valoracion FROM "ranks" GROUP BY "ranks"."what" ORDER BY total_valoracion DESC[0m
  â†³ app/controllers/restaurants_controller.rb:11:in `map'
  [1m[36mRestaurant Load (125.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (31.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  [1m[36mRestaurant Load (44.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:11:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mCategory Load (47.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/restaurants/index.html.erb:44
  [1m[36mRestaurant Load (50.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:51
  Rendered restaurants/index.html.erb within layouts/application (Duration: 115.0ms | Allocations: 6730)
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 4.1ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 128.6ms | Allocations: 14473)
Completed 200 OK in 801ms (Views: 31.9ms | ActiveRecord: 760.8ms | Allocations: 16396)


Started GET "/categories" for 127.0.0.1 at 2023-11-17 10:16:29 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (89.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 98.6ms | Allocations: 2712)
  Rendered layouts/_header.html.erb (Duration: 2.2ms | Allocations: 1039)
  Rendered layouts/_sidenav.html.erb (Duration: 6.0ms | Allocations: 2967)
  Rendered layout layouts/application.html.erb (Duration: 117.0ms | Allocations: 10596)
Completed 200 OK in 118ms (Views: 28.2ms | ActiveRecord: 89.5ms | Allocations: 10858)


Started GET "/categories" for 127.0.0.1 at 2023-11-17 10:16:33 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (336.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 346.1ms | Allocations: 2709)
  Rendered layouts/_header.html.erb (Duration: 2.1ms | Allocations: 1034)
  Rendered layouts/_sidenav.html.erb (Duration: 8.4ms | Allocations: 2936)
  Rendered layout layouts/application.html.erb (Duration: 363.4ms | Allocations: 10529)
Completed 200 OK in 364ms (Views: 27.3ms | ActiveRecord: 336.6ms | Allocations: 10791)


Started GET "/categories/Turca" for 127.0.0.1 at 2023-11-17 10:16:44 +0100
Processing by CategoriesController#show as HTML
  Parameters: {"nombre"=>"Turca"}
  [1m[36mCategory Load (88.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "Turca"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (31.7ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='Turca' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (39.8ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='Turca' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (33.0ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='Turca' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (39.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "Turca"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (44.9ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='Turca' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (41.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "Turca"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_comment.html.erb (Duration: 43.5ms | Allocations: 623)
  Rendered layouts/_add_comment.html.erb (Duration: 1.1ms | Allocations: 681)
  Rendered categories/show.html.erb within layouts/application (Duration: 45.2ms | Allocations: 1458)
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1001)
  Rendered layouts/_sidenav.html.erb (Duration: 3.9ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 55.3ms | Allocations: 9020)
Completed 200 OK in 347ms (Views: 14.6ms | ActiveRecord: 318.7ms | Allocations: 11602)


Started GET "/categories" for 127.0.0.1 at 2023-11-17 10:16:58 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
Started GET "/categories/burger" for 127.0.0.1 at 2023-11-17 10:17:01 +0100
Processing by CategoriesController#show as HTML
  Parameters: {"nombre"=>"burger"}
  [1m[36mCategory Load (3408.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 3419.9ms | Allocations: 4958)
  Rendered layouts/_header.html.erb (Duration: 3.6ms | Allocations: 1027)
  Rendered layouts/_sidenav.html.erb (Duration: 12.6ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 3449.2ms | Allocations: 12736)
Completed 200 OK in 3451ms (Views: 42.5ms | ActiveRecord: 3408.1ms | Allocations: 12997)


  [1m[36mCategory Load (40.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "burger"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (68.0ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (424.5ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
Started GET "/posts/11/responses" for 127.0.0.1 at 2023-11-17 10:17:06 +0100
Processing by PostResponsesController#index as HTML
  Parameters: {"post_id"=>"11"}
  [1m[35m (382.0ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='burger' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (130.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:22:in `index'
  [1m[36mPost Load (36.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "burger"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (61.8ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='burger' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (36.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "burger"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 3.2ms | Allocations: 596)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.5ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 5.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.8ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 4.5ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 85.5ms | Allocations: 6220)
  Rendered layouts/_add_comment.html.erb (Duration: 1.4ms | Allocations: 485)
  Rendered categories/show.html.erb within layouts/application (Duration: 88.4ms | Allocations: 6846)
  Rendered layouts/_header.html.erb (Duration: 3.5ms | Allocations: 1013)
  Rendered layouts/_sidenav.html.erb (Duration: 9.6ms | Allocations: 2969)
  Rendered layout layouts/application.html.erb (Duration: 120.4ms | Allocations: 14480)
Completed 200 OK in 5816ms (Views: 85.0ms | ActiveRecord: 2809.0ms | Allocations: 33508)


  [1m[35m (1056.3ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Like' AND respondable_id=11 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (63.8ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Dislike' AND respondable_id=11 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[36mResponse Load (36.2ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 11], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:27:in `each'
  [1m[35m (43.8ms)[0m  [1m[34mSELECT responses.id, reactions.id as reaction_id FROM responses LEFT JOIN reactions ON reactions.who='' AND reactions.reactionable_id=responses.id AND reactions.reactionable_type='Response' AND respondable_id=11 AND respondable_type='Post' GROUP BY responses.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[36mReaction Load (97.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 11], ["reactionable_type", "Post"], ["reaccion", "Like"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mReaction Load (45.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 11], ["reactionable_type", "Post"], ["reaccion", "Dislike"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mResponse Count (68.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2[0m  [["respondable_id", 11], ["respondable_type", "Post"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `size'
  [1m[36mReaction Load (38.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."who" IS NULL LIMIT $3[0m  [["reactionable_id", 11], ["reactionable_type", "Post"], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:27:in `index'
  Rendering layout layouts/application.html.erb
  Rendering post_responses/index.html.erb within layouts/application
  Rendered layouts/_reaction.html.erb (Duration: 2.1ms | Allocations: 592)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 6.5ms | Allocations: 2346)
  [1m[36mResponse Load (49.7ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 11], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 56.2ms | Allocations: 2421)
  Rendered layouts/_add_comment.html.erb (Duration: 0.9ms | Allocations: 488)
  Rendered post_responses/index.html.erb within layouts/application (Duration: 64.9ms | Allocations: 5494)
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1013)
  Rendered layouts/_sidenav.html.erb (Duration: 4.2ms | Allocations: 2967)
  Rendered layout layouts/application.html.erb (Duration: 75.9ms | Allocations: 13157)
Completed 200 OK in 1730ms (Views: 27.3ms | ActiveRecord: 1630.0ms | Allocations: 34563)


Started GET "/posts/10/responses" for 127.0.0.1 at 2023-11-17 10:17:18 +0100
Processing by PostResponsesController#index as HTML
  Parameters: {"post_id"=>"10"}
  [1m[36mPost Load (2085.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:22:in `index'
  [1m[35m (158.5ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Like' AND respondable_id=10 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (39.8ms)[0m  [1m[34mSELECT responses.id, COUNT(reaccion) as react FROM responses LEFT JOIN reactions ON reactionable_id=responses.id AND reactionable_type='Response' AND reaccion='Dislike' AND respondable_id=10 AND respondable_type='Post' GROUP BY responses.id ORDER BY responses.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[36mResponse Load (36.4ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 10], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:27:in `each'
  [1m[35m (52.0ms)[0m  [1m[34mSELECT responses.id, reactions.id as reaction_id FROM responses LEFT JOIN reactions ON reactions.who='' AND reactions.reactionable_id=responses.id AND reactions.reactionable_type='Response' AND respondable_id=10 AND respondable_type='Post' GROUP BY responses.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[36mReaction Load (50.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 10], ["reactionable_type", "Post"], ["reaccion", "Like"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mReaction Load (45.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."reaccion" = $3[0m  [["reactionable_id", 10], ["reactionable_type", "Post"], ["reaccion", "Dislike"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `index'
  [1m[36mResponse Count (68.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2[0m  [["respondable_id", 10], ["respondable_type", "Post"]]
  â†³ app/controllers/post_responses_controller.rb:26:in `size'
  [1m[36mReaction Load (83.9ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."reactionable_id" = $1 AND "reactions"."reactionable_type" = $2 AND "reactions"."who" IS NULL LIMIT $3[0m  [["reactionable_id", 10], ["reactionable_type", "Post"], ["LIMIT", 1]]
  â†³ app/controllers/post_responses_controller.rb:27:in `index'
  Rendering layout layouts/application.html.erb
  Rendering post_responses/index.html.erb within layouts/application
  Rendered layouts/_reaction.html.erb (Duration: 3.1ms | Allocations: 590)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 9.7ms | Allocations: 2336)
  [1m[36mResponse Load (52.2ms)[0m  [1m[34mSELECT "responses".* FROM "responses" WHERE "responses"."respondable_id" = $1 AND "responses"."respondable_type" = $2 ORDER BY "responses"."id" ASC LIMIT $3[0m  [["respondable_id", 10], ["respondable_type", "Post"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 398)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 71.3ms | Allocations: 8326)
  Rendered layouts/_add_comment.html.erb (Duration: 0.7ms | Allocations: 486)
  Rendered post_responses/index.html.erb within layouts/application (Duration: 82.5ms | Allocations: 11387)
  Rendered layouts/_header.html.erb (Duration: 3.3ms | Allocations: 1001)
  Rendered layouts/_sidenav.html.erb (Duration: 6.5ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 101.7ms | Allocations: 18949)
Completed 200 OK in 2743ms (Views: 50.4ms | ActiveRecord: 2672.3ms | Allocations: 23852)


Started GET "/responses/new?response_to=10&response_type=Post" for 127.0.0.1 at 2023-11-17 10:17:32 +0100
Processing by ResponsesController#new as HTML
  Parameters: {"response_to"=>"10", "response_type"=>"Post"}
Redirected to http://localhost:3000/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 456)


Started GET "/login" for 127.0.0.1 at 2023-11-17 10:17:32 +0100
Processing by LoginsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering logins/new.html.erb within layouts/application
  Rendered logins/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2876)
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 3.2ms | Allocations: 2930)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 10445)
Completed 200 OK in 31ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 10895)


Started POST "/reactions" for 127.0.0.1 at 2023-11-17 10:17:47 +0100
Processing by ReactionsController#create as TURBO_STREAM
  Parameters: {"reaction"=>{"reaccion"=>"Like", "reactionable_id"=>"6", "reactionable_type"=>"Response"}}
Redirected to http://localhost:3000/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 383)


Started GET "/login" for 127.0.0.1 at 2023-11-17 10:17:47 +0100
Processing by LoginsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering logins/new.html.erb within layouts/application
  Rendered logins/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2535)
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1014)
  Rendered layouts/_sidenav.html.erb (Duration: 3.6ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 10206)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 10471)


Started POST "/login" for 127.0.0.1 at 2023-11-17 10:18:04 +0100
Processing by LoginsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "nombre"=>"Atreides", "password"=>"[FILTERED]", "commit"=>"INICIAR SESIÃ“N"}
  [1m[36mUser Load (36.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/logins_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 375ms (ActiveRecord: 36.5ms | Allocations: 891)


Started GET "/" for 127.0.0.1 at 2023-11-17 10:18:25 +0100
Processing by CategoriesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (407.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 416.1ms | Allocations: 2714)
  Rendered layouts/_header.html.erb (Duration: 6.2ms | Allocations: 1027)
  [1m[36mUser Load (617.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 647.0ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 1086.0ms | Allocations: 10912)
Completed 200 OK in 1087ms (Views: 61.6ms | ActiveRecord: 1025.2ms | Allocations: 11177)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:07:16 +0100
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to true is deprecated. Set to :all instead. (called from rescue in call at /usr/local/lib/ruby/gems/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
  
ActiveRecord::ConnectionNotEstablished (connection to server at "91.208.207.32", port 50013 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
):
  
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:80:in `rescue in new_client'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:981:in `connect'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:993:in `reconnect'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.1) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:788:in `verify!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:795:in `connect!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:997:in `block in with_raw_connection'
activesupport (7.1.1) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:996:in `with_raw_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:1104:in `valid_raw_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:619:in `get_database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:871:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:647:in `check_version'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:675:in `new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:720:in `checkout_new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:699:in `try_to_checkout_new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:657:in `acquire_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `checkout'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:501:in `block in with_temporary_connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:518:in `with_temporary_pool'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:500:in `with_temporary_connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:494:in `block in with_temporary_connection_for_each'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:493:in `each'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:493:in `with_temporary_connection_for_each'
activerecord (7.1.1) lib/active_record/migration.rb:771:in `pending_migrations'
activerecord (7.1.1) lib/active_record/migration.rb:750:in `check_pending_migrations'
activerecord (7.1.1) lib/active_record/migration.rb:642:in `block (2 levels) in call'
activesupport (7.1.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.1) lib/active_record/migration.rb:647:in `block in call'
activerecord (7.1.1) lib/active_record/migration.rb:639:in `synchronize'
activerecord (7.1.1) lib/active_record/migration.rb:639:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.1) lib/active_support/broadcast_logger.rb:232:in `method_missing'
railties (7.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.1) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[35m (29.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1120147408448878005)[0m
  [1m[36mActiveRecord::SchemaMigration Load (32.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (37.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddColumnImageToCategories (20231117111513)
  [1m[36mTRANSACTION (29.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (60.3ms)[0m  [1m[35mALTER TABLE "categories" ADD "ruta_img" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (28.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231117111513') RETURNING "version"[0m
  [1m[36mTRANSACTION (36.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (982.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1120147408448878005)[0m
  [1m[36mActiveRecord::SchemaMigration Load (32.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/categories/show" for 127.0.0.1 at 2023-11-17 12:31:07 +0100
Started GET "/categories/chino" for 127.0.0.1 at 2023-11-17 12:31:11 +0100
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to true is deprecated. Set to :all instead. (called from rescue in call at /usr/local/lib/ruby/gems/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
  
ActiveRecord::NoDatabaseError (We could not find your database: brm33sftclngywwhayzb. Available database configurations can be found in config/database.yml file.

To resolve this error:

- Did you create the database for this app, or delete it? You may need to create your database.
- Has the database name changed? Check your database.yml config has the correct database name.

To create your database, run:

        bin/rails db:create
):
  
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:74:in `rescue in new_client'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:981:in `connect'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:993:in `reconnect'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.1) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:788:in `verify!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:795:in `connect!'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:997:in `block in with_raw_connection'
activesupport (7.1.1) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:996:in `with_raw_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:1104:in `valid_raw_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:619:in `get_database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract_adapter.rb:871:in `database_version'
activerecord (7.1.1) lib/active_record/connection_adapters/postgresql_adapter.rb:647:in `check_version'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:675:in `new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:720:in `checkout_new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:699:in `try_to_checkout_new_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:657:in `acquire_connection'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `checkout'
activerecord (7.1.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:501:in `block in with_temporary_connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:518:in `with_temporary_pool'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:500:in `with_temporary_connection'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:494:in `block in with_temporary_connection_for_each'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:493:in `each'
activerecord (7.1.1) lib/active_record/tasks/database_tasks.rb:493:in `with_temporary_connection_for_each'
activerecord (7.1.1) lib/active_record/migration.rb:771:in `pending_migrations'
activerecord (7.1.1) lib/active_record/migration.rb:750:in `check_pending_migrations'
activerecord (7.1.1) lib/active_record/migration.rb:642:in `block (2 levels) in call'
activesupport (7.1.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.1) lib/active_record/migration.rb:647:in `block in call'
activerecord (7.1.1) lib/active_record/migration.rb:639:in `synchronize'
activerecord (7.1.1) lib/active_record/migration.rb:639:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.1) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.1) lib/active_support/broadcast_logger.rb:232:in `method_missing'
railties (7.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.1) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Load (56.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#show as HTML
  Parameters: {"nombre"=>"chino"}
  [1m[36mCategory Load (32.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "chino"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (46.7ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (35.3ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (61.5ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (39.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (42.2ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='chino' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (75.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 29.2ms | Allocations: 2499)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 400)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 409)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.2ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 3043.7ms | Allocations: 67356)
  Rendered layouts/_add_comment.html.erb (Duration: 2.9ms | Allocations: 662)
  Rendered categories/show.html.erb within layouts/application (Duration: 3065.7ms | Allocations: 68471)
  Rendered layouts/_header.html.erb (Duration: 41.4ms | Allocations: 1325)
  [1m[36mUser Load (33.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 201.2ms | Allocations: 12532)
  Rendered layout layouts/application.html.erb (Duration: 3534.4ms | Allocations: 101147)
Completed 200 OK in 4679ms (Views: 3417.3ms | ActiveRecord: 939.0ms | Allocations: 135583)


Started GET "/posts/new" for 127.0.0.1 at 2023-11-17 12:31:51 +0100
Processing by PostsController#new as HTML
  [1m[35m (489.2ms)[0m  [1m[34mSELECT restaurants.id, restaurants.nombre FROM restaurants, users, restaurants_users as ru WHERE users.nombre='Atreides' AND users.nombre=ru.user_id AND ru.restaurant_id=restaurants.id [0m
  â†³ app/controllers/posts_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered layouts/_new_comment.html.erb (Duration: 127.3ms | Allocations: 2838)
  Rendered posts/new.html.erb within layouts/application (Duration: 134.7ms | Allocations: 3113)
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1015)
  [1m[36mUser Load (33.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 43.6ms | Allocations: 3369)
  Rendered layout layouts/application.html.erb (Duration: 184.9ms | Allocations: 11193)
Completed 200 OK in 811ms (Views: 153.1ms | ActiveRecord: 600.6ms | Allocations: 22724)


Started POST "/posts" for 127.0.0.1 at 2023-11-17 12:32:11 +0100
Processing by PostsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "post"=>{"asOwnerOf"=>"3", "contenido"=>"Soy fumancher"}, "button"=>""}
Error al subir la imagen: undefined method `original_filename' for nil:NilClass
  [1m[36mUser Load (63.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:17:in `create'
  [1m[36mTRANSACTION (49.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/posts_controller.rb:23:in `create'
  [1m[36mPost Create (95.2ms)[0m  [1m[32mINSERT INTO "posts" ("categoria", "autor", "contenido", "ruta_img", "created_at", "updated_at", "restaurant_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["categoria", "chino"], ["autor", "Atreides"], ["contenido", "Soy fumancher"], ["ruta_img", nil], ["created_at", "2023-11-17 11:32:11.335951"], ["updated_at", "2023-11-17 11:32:11.335959"], ["restaurant_id", 3]]
  â†³ app/controllers/posts_controller.rb:23:in `create'
  [1m[36mTRANSACTION (65.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/posts_controller.rb:23:in `create'
Redirected to http://localhost:3000/categories/chino
Completed 302 Found in 242ms (ActiveRecord: 274.2ms | Allocations: 3936)


Started GET "/categories/chino" for 127.0.0.1 at 2023-11-17 12:32:11 +0100
Processing by CategoriesController#show as TURBO_STREAM
  Parameters: {"nombre"=>"chino"}
  [1m[36mCategory Load (64.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."nombre" = $1 LIMIT $2[0m  [["nombre", "chino"], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:8:in `show'
  [1m[35m (42.2ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (43.2ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (35.5ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND categoria='chino' GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (103.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (36.3ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND categoria='chino' GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mPost Load (53.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."categoria" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["categoria", "chino"], ["LIMIT", 1000]]
  â†³ app/views/layouts/_comment.html.erb:2:in `each'
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 599)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 403)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 405)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.3ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.6ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 2.1ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 404)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 123.3ms | Allocations: 32851)
  Rendered layouts/_add_comment.html.erb (Duration: 1.4ms | Allocations: 492)
  Rendered categories/show.html.erb within layouts/application (Duration: 125.7ms | Allocations: 33527)
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1016)
  [1m[36mUser Load (32.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 44.2ms | Allocations: 3365)
  Rendered layout layouts/application.html.erb (Duration: 178.7ms | Allocations: 41579)
Completed 200 OK in 522ms (Views: 94.4ms | ActiveRecord: 411.5ms | Allocations: 45813)


Started GET "/restaurants/3/" for 127.0.0.1 at 2023-11-17 12:32:18 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRestaurant Load (105.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:15:in `show'
  [1m[36mRank Load (259.5ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as rest_val FROM "ranks" WHERE "ranks"."what" = $1 GROUP BY "ranks"."what"[0m  [["what", 3]]
  â†³ app/controllers/restaurants_controller.rb:17:in `show'
  [1m[35m (45.9ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (60.4ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (47.2ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (76.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."restaurant_id" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (34.1ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND restaurant_id=3 GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[35m (44.0ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Like' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (51.5ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Dislike' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (44.7ms)[0m  [1m[34mSELECT reviews.id, COUNT(responses.id) as resp_count FROM reviews LEFT JOIN responses ON respondable_id=reviews.id AND respondable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mReview Load (37.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 ORDER BY "reviews"."id" ASC LIMIT $3[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (68.5ms)[0m  [1m[34mSELECT reviews.id, reactions.id as reaction_id FROM reviews LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=reviews.id AND reactions.reactionable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/_header.html.erb (Duration: 234.5ms | Allocations: 2659)
  [1m[36mDish Load (43.4ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/views/restaurants/show.html.erb:9
  [1m[36mReview Load (32.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/views/layouts/_comment.html.erb:2
  Rendered layouts/_reaction.html.erb (Duration: 1.8ms | Allocations: 582)
  Rendered layouts/_reaction.html.erb (Duration: 1.2ms | Allocations: 403)
  Rendered layouts/_comment.html.erb (Duration: 92.0ms | Allocations: 3447)
  Rendered layouts/_add_comment.html.erb (Duration: 2.6ms | Allocations: 486)
  [1m[35m (41.6ms)[0m  [1m[34mSELECT posts.* FROM posts, users, restaurants_users as ru WHERE ru.user_id=users.nombre AND ru.restaurant_id=3 AND posts.autor=users.nombre AND posts.restaurant_id=3[0m
  â†³ app/helpers/restaurants_helper.rb:3:in `get_rest_managers_posts'
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 401)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 1.7ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 2.4ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 26.0ms | Allocations: 4813)
  Rendered restaurants/show.html.erb within layouts/application (Duration: 801.6ms | Allocations: 22225)
  Rendered layouts/_header.html.erb (Duration: 4.1ms | Allocations: 1003)
  [1m[36mUser Load (60.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 77.5ms | Allocations: 3326)
  Rendered layout layouts/application.html.erb (Duration: 893.6ms | Allocations: 30173)
Completed 200 OK in 2462ms (Views: 639.0ms | ActiveRecord: 1428.8ms | Allocations: 48789)


Started GET "/restaurants/3/" for 127.0.0.1 at 2023-11-17 12:37:07 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRestaurant Load (42.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:15:in `show'
  [1m[36mRank Load (61.9ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as rest_val FROM "ranks" WHERE "ranks"."what" = $1 GROUP BY "ranks"."what"[0m  [["what", 3]]
  â†³ app/controllers/restaurants_controller.rb:17:in `show'
  [1m[35m (96.9ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (36.2ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (68.1ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (45.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."restaurant_id" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (65.3ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND restaurant_id=3 GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[35m (72.5ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Like' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (31.7ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Dislike' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (64.1ms)[0m  [1m[34mSELECT reviews.id, COUNT(responses.id) as resp_count FROM reviews LEFT JOIN responses ON respondable_id=reviews.id AND respondable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mReview Load (45.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 ORDER BY "reviews"."id" ASC LIMIT $3[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (40.1ms)[0m  [1m[34mSELECT reviews.id, reactions.id as reaction_id FROM reviews LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=reviews.id AND reactions.reactionable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/_header.html.erb (Duration: 3.2ms | Allocations: 2623)
  [1m[36mDish Load (65.0ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/views/restaurants/show.html.erb:9
  [1m[36mReview Load (122.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/views/layouts/_comment.html.erb:2
  Rendered layouts/_reaction.html.erb (Duration: 2.5ms | Allocations: 841)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 404)
  Rendered layouts/_comment.html.erb (Duration: 137.8ms | Allocations: 5323)
  Rendered layouts/_add_comment.html.erb (Duration: 1.0ms | Allocations: 639)
  [1m[35m (57.8ms)[0m  [1m[34mSELECT posts.* FROM posts, users, restaurants_users as ru WHERE ru.user_id=users.nombre AND ru.restaurant_id=3 AND posts.autor=users.nombre AND posts.restaurant_id=3[0m
  â†³ app/helpers/restaurants_helper.rb:3:in `get_rest_managers_posts'
  Rendered layouts/_reaction.html.erb (Duration: 0.7ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.2ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.5ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 14.1ms | Allocations: 4838)
  Rendered restaurants/show.html.erb within layouts/application (Duration: 388.8ms | Allocations: 21528)
  Rendered layouts/_header.html.erb (Duration: 3.1ms | Allocations: 1276)
  Rendered layouts/_sidenav.html.erb (Duration: 7.6ms | Allocations: 3141)
  Rendered layout layouts/application.html.erb (Duration: 443.4ms | Allocations: 44585)
Completed 500 Internal Server Error in 1903ms (ActiveRecord: 1702.0ms | Allocations: 72630)


DEPRECATION WARNING: Setting action_dispatch.show_exceptions to true is deprecated. Set to :all instead. (called from rescue in call at /usr/local/lib/ruby/gems/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
  
ActionView::Template::Error (undefined method `user_has_restaurants' for #<ActionView::Base:0x00000000015b08>):
    22:     </li>
    23:   </div>
    24:   <div>
    25:     <% if user_has_restaurants() %> 
    26:       <li>
    27:         <%= link_to categories_path, id: "mis_restaurantes", class: "sidenav_element" do %>
    28:           <%= image_tag "my-restaurant", class: "sidenav_element_icon" %>
  
app/views/layouts/_sidenav.html.erb:25
app/views/layouts/application.html.erb:21
Started GET "/restaurants/3/" for 127.0.0.1 at 2023-11-17 12:37:47 +0100
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRestaurant Load (103.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:15:in `show'
  [1m[36mRank Load (96.3ms)[0m  [1m[34mSELECT "ranks"."what", AVG(valoracion) as rest_val FROM "ranks" WHERE "ranks"."what" = $1 GROUP BY "ranks"."what"[0m  [["what", 3]]
  â†³ app/controllers/restaurants_controller.rb:17:in `show'
  [1m[35m (105.6ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Like' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (69.1ms)[0m  [1m[34mSELECT posts.id, COUNT(reaccion) as react FROM posts LEFT JOIN reactions ON reactionable_id=posts.id AND reactionable_type='Post' AND reaccion='Dislike' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (37.3ms)[0m  [1m[34mSELECT posts.id, COUNT(responses.id) as resp_count FROM posts LEFT JOIN responses ON respondable_id=posts.id AND respondable_type='Post' AND restaurant_id=3 GROUP BY posts.id ORDER BY posts.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mPost Load (83.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."restaurant_id" = $1 ORDER BY "posts"."id" ASC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (50.5ms)[0m  [1m[34mSELECT posts.id, reactions.id as reaction_id FROM posts LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=posts.id AND reactions.reactionable_type='Post' AND restaurant_id=3 GROUP BY posts.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  [1m[35m (54.1ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Like' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (54.3ms)[0m  [1m[34mSELECT reviews.id, COUNT(reaccion) as react FROM reviews LEFT JOIN reactions ON reactionable_id=reviews.id AND reactionable_type='Review' AND reaccion='Dislike' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC [0m
  â†³ app/controllers/concerns/queries_concern.rb:5:in `get_all_reactions'
  [1m[35m (59.6ms)[0m  [1m[34mSELECT reviews.id, COUNT(responses.id) as resp_count FROM reviews LEFT JOIN responses ON respondable_id=reviews.id AND respondable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id ORDER BY reviews.id ASC[0m
  â†³ app/controllers/concerns/queries_concern.rb:9:in `get_all_responses'
  [1m[36mReview Load (80.9ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 ORDER BY "reviews"."id" ASC LIMIT $3[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"], ["LIMIT", 1000]]
  â†³ app/controllers/concerns/queries_concern.rb:23:in `each'
  [1m[35m (52.6ms)[0m  [1m[34mSELECT reviews.id, reactions.id as reaction_id FROM reviews LEFT JOIN reactions ON reactions.who='Atreides' AND reactions.reactionable_id=reviews.id AND reactions.reactionable_type='Review' AND reviewable_id=3 AND reviewable_type='Restaurant' GROUP BY reviews.id, reaction_id[0m
  â†³ app/controllers/concerns/queries_concern.rb:13:in `get_comments_user_reactions'
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/_header.html.erb (Duration: 4.9ms | Allocations: 2616)
  [1m[36mDish Load (102.8ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/views/restaurants/show.html.erb:9
  [1m[36mReview Load (91.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/views/layouts/_comment.html.erb:2
  Rendered layouts/_reaction.html.erb (Duration: 2.7ms | Allocations: 837)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 404)
  Rendered layouts/_comment.html.erb (Duration: 107.1ms | Allocations: 5311)
  Rendered layouts/_add_comment.html.erb (Duration: 1.1ms | Allocations: 635)
  [1m[35m (67.6ms)[0m  [1m[34mSELECT posts.* FROM posts, users, restaurants_users as ru WHERE ru.user_id=users.nombre AND ru.restaurant_id=3 AND posts.autor=users.nombre AND posts.restaurant_id=3[0m
  â†³ app/helpers/restaurants_helper.rb:3:in `get_rest_managers_posts'
  Rendered layouts/_reaction.html.erb (Duration: 1.1ms | Allocations: 406)
  Rendered layouts/_reaction.html.erb (Duration: 0.6ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.8ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 0.9ms | Allocations: 399)
  Rendered layouts/_reaction.html.erb (Duration: 0.4ms | Allocations: 402)
  Rendered layouts/_reaction.html.erb (Duration: 1.0ms | Allocations: 399)
  Rendered layouts/_comment.html.erb (Duration: 10.5ms | Allocations: 4834)
  Rendered restaurants/show.html.erb within layouts/application (Duration: 606.6ms | Allocations: 21496)
  Rendered layouts/_header.html.erb (Duration: 2.4ms | Allocations: 1268)
  [1m[36mUser Load (344.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:61:in `user_has_restaurants'
  [1m[36mRestaurant Load (53.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/helpers/application_helper.rb:61:in `user_has_restaurants'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 917.2ms | Allocations: 14597)
  Rendered layout layouts/application.html.erb (Duration: 1547.2ms | Allocations: 55836)
Completed 200 OK in 3121ms (Views: 288.3ms | ActiveRecord: 2736.5ms | Allocations: 83877)


Started GET "/users/Atreides" for 127.0.0.1 at 2023-11-17 12:37:54 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"Atreides"}
  [1m[36mUser Load (119.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:23:in `show'
  [1m[36mPost Count (59.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  [1m[36mReview Count (31.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:28:in `show'
  [1m[36mResponse Count (139.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:31:in `show'
  [1m[36mPost Count (37.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1 AND (created_at > '2023-10-17 11:37:55.083203')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:35:in `show'
  [1m[36mReview Count (32.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1 AND (created_at > '2023-10-17 11:37:55.138891')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:36:in `show'
  [1m[36mResponse Count (43.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1 AND (created_at > '2023-10-17 11:37:55.178676')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:37:in `show'
  [1m[36mRestaurant Count (54.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:40:in `show'
  [1m[36mRestaurant Load (102.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:49:in `show'
  [1m[36mReview Count (58.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 11:37:55.389057')[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/controllers/users_controller.rb:50:in `block in show'
  [1m[36mDish Load (35.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/controllers/users_controller.rb:52:in `block in show'
  [1m[36mReview Count (53.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 11:37:55.487414')[0m  [["reviewable_id", 4], ["reviewable_type", "Dish"]]
  â†³ app/controllers/users_controller.rb:53:in `block (2 levels) in show'
  [1m[36mReaction Count (40.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Like"]]
  â†³ app/controllers/users_controller.rb:55:in `block in show'
  [1m[36mReaction Count (36.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Dislike"]]
  â†³ app/controllers/users_controller.rb:56:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 54.7ms | Allocations: 3363)
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1002)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:61:in `user_has_restaurants'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/helpers/application_helper.rb:61:in `user_has_restaurants'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 13.8ms | Allocations: 4121)
  Rendered layout layouts/application.html.erb (Duration: 77.1ms | Allocations: 12117)
Completed 200 OK in 1196ms (Views: 79.2ms | ActiveRecord: 995.9ms | Allocations: 21957)


Started GET "/logout" for 127.0.0.1 at 2023-11-17 12:37:57 +0100
Processing by LoginsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 434)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:37:57 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (84.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 165.6ms | Allocations: 4477)
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1027)
  Rendered layouts/_sidenav.html.erb (Duration: 5.6ms | Allocations: 2587)
  Rendered layout layouts/application.html.erb (Duration: 180.5ms | Allocations: 11935)
Completed 500 Internal Server Error in 218ms (ActiveRecord: 131.5ms | Allocations: 13490)


DEPRECATION WARNING: Setting action_dispatch.show_exceptions to true is deprecated. Set to :all instead. (called from rescue in call at /usr/local/lib/ruby/gems/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
  
ActionView::Template::Error (Couldn't find User without an ID):
    22:     </li>
    23:   </div>
    24:   <div>
    25:     <% if user_has_restaurants() %> 
    26:       <li>
    27:         <%= link_to categories_path, id: "mis_restaurantes", class: "sidenav_element" do %>
    28:           <%= image_tag "my-restaurant", class: "sidenav_element_icon" %>
  
app/helpers/application_helper.rb:61:in `user_has_restaurants'
app/views/layouts/_sidenav.html.erb:25
app/views/layouts/application.html.erb:21
Started GET "/logout" for 127.0.0.1 at 2023-11-17 12:38:12 +0100
Processing by LoginsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 680)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:38:12 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (1031.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 1247.4ms | Allocations: 4654)
  Rendered layouts/_header.html.erb (Duration: 2.1ms | Allocations: 1289)
  [1m[36mUser Load (76.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:61:in `user_has_restaurants'
  Rendered layouts/_sidenav.html.erb (Duration: 251.3ms | Allocations: 7781)
  Rendered layout layouts/application.html.erb (Duration: 1522.2ms | Allocations: 32388)
Completed 500 Internal Server Error in 1528ms (ActiveRecord: 1367.5ms | Allocations: 34428)


DEPRECATION WARNING: Setting action_dispatch.show_exceptions to true is deprecated. Set to :all instead. (called from rescue in call at /usr/local/lib/ruby/gems/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
  
ActionView::Template::Error (undefined method `restaurants' for nil:NilClass):
    22:     </li>
    23:   </div>
    24:   <div>
    25:     <% if user_has_restaurants() %> 
    26:       <li>
    27:         <%= link_to categories_path, id: "mis_restaurantes", class: "sidenav_element" do %>
    28:           <%= image_tag "my-restaurant", class: "sidenav_element_icon" %>
  
app/helpers/application_helper.rb:61:in `user_has_restaurants'
app/views/layouts/_sidenav.html.erb:25
app/views/layouts/application.html.erb:21
Started GET "/" for 127.0.0.1 at 2023-11-17 12:38:43 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (1546.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 2638.6ms | Allocations: 4662)
  Rendered layouts/_header.html.erb (Duration: 1.7ms | Allocations: 1289)
  Rendered layouts/_sidenav.html.erb (Duration: 4.6ms | Allocations: 3175)
  Rendered layout layouts/application.html.erb (Duration: 2662.8ms | Allocations: 27795)
Completed 200 OK in 2670ms (Views: 38.1ms | ActiveRecord: 2626.8ms | Allocations: 30086)


Started GET "/login" for 127.0.0.1 at 2023-11-17 12:39:31 +0100
Processing by LoginsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering logins/new.html.erb within layouts/application
  Rendered logins/new.html.erb within layouts/application (Duration: 32.7ms | Allocations: 2879)
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 2.8ms | Allocations: 2450)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 9969)
Completed 200 OK in 755ms (Views: 42.1ms | ActiveRecord: 668.0ms | Allocations: 15574)


Started POST "/login" for 127.0.0.1 at 2023-11-17 12:39:37 +0100
Processing by LoginsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "nombre"=>"Atreides", "password"=>"[FILTERED]", "commit"=>"INICIAR SESIÃ“N"}
  [1m[36mUser Load (103.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/logins_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 437ms (ActiveRecord: 103.5ms | Allocations: 1113)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:39:38 +0100
Processing by CategoriesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (1034.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 1040.8ms | Allocations: 2710)
  Rendered layouts/_header.html.erb (Duration: 9.1ms | Allocations: 1033)
  [1m[36mUser Load (81.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mRestaurant Load (50.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 359.6ms | Allocations: 14091)
  Rendered layout layouts/application.html.erb (Duration: 1446.2ms | Allocations: 21730)
Completed 200 OK in 1447ms (Views: 106.5ms | ActiveRecord: 1340.4ms | Allocations: 22039)


Started GET "/users/Atreides" for 127.0.0.1 at 2023-11-17 12:39:45 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"Atreides"}
  [1m[36mUser Load (144.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:23:in `show'
  [1m[36mPost Count (613.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  [1m[36mReview Count (55.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:28:in `show'
  [1m[36mResponse Count (69.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:31:in `show'
  [1m[36mPost Count (102.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts" WHERE "posts"."autor" = $1 AND (created_at > '2023-10-17 11:39:47.209721')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:35:in `show'
  [1m[36mReview Count (169.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."autor" = $1 AND (created_at > '2023-10-17 11:39:47.316643')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:36:in `show'
  [1m[36mResponse Count (31.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "responses" WHERE "responses"."autor" = $1 AND (created_at > '2023-10-17 11:39:47.488705')[0m  [["autor", "Atreides"]]
  â†³ app/controllers/users_controller.rb:37:in `show'
  [1m[36mRestaurant Count (83.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:40:in `show'
  [1m[36mRestaurant Load (66.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/controllers/users_controller.rb:49:in `show'
  [1m[36mReview Count (35.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 11:39:47.681595')[0m  [["reviewable_id", 3], ["reviewable_type", "Restaurant"]]
  â†³ app/controllers/users_controller.rb:50:in `block in show'
  [1m[36mDish Load (43.1ms)[0m  [1m[34mSELECT "dishes".* FROM "dishes" WHERE "dishes"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  â†³ app/controllers/users_controller.rb:52:in `block in show'
  [1m[36mReview Count (92.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE "reviews"."reviewable_id" = $1 AND "reviews"."reviewable_type" = $2 AND (created_at > '2023-10-17 11:39:47.935649')[0m  [["reviewable_id", 4], ["reviewable_type", "Dish"]]
  â†³ app/controllers/users_controller.rb:53:in `block (2 levels) in show'
  [1m[36mReaction Count (129.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Like"]]
  â†³ app/controllers/users_controller.rb:55:in `block in show'
  [1m[36mReaction Count (53.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."who" = $1 AND "reactions"."reaccion" = $2[0m  [["who", "3"], ["reaccion", "Dislike"]]
  â†³ app/controllers/users_controller.rb:56:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2986)
  Rendered layouts/_header.html.erb (Duration: 3.4ms | Allocations: 1008)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "Atreides"]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "Atreides"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 10.9ms | Allocations: 4137)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 11754)
Completed 200 OK in 2439ms (Views: 36.1ms | ActiveRecord: 2313.6ms | Allocations: 32261)


Started GET "/logout" for 127.0.0.1 at 2023-11-17 12:39:50 +0100
Processing by LoginsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 391)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:39:50 +0100
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (89.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 97.5ms | Allocations: 2709)
  Rendered layouts/_header.html.erb (Duration: 3.8ms | Allocations: 1027)
  Rendered layouts/_sidenav.html.erb (Duration: 8.4ms | Allocations: 2449)
  Rendered layout layouts/application.html.erb (Duration: 119.5ms | Allocations: 10001)
Completed 200 OK in 120ms (Views: 31.0ms | ActiveRecord: 89.0ms | Allocations: 10263)


Started GET "/login" for 127.0.0.1 at 2023-11-17 12:40:16 +0100
Processing by LoginsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering logins/new.html.erb within layouts/application
  Rendered logins/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2537)
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1002)
  Rendered layouts/_sidenav.html.erb (Duration: 3.1ms | Allocations: 2449)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 9622)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 9884)


Started POST "/login" for 127.0.0.1 at 2023-11-17 12:40:22 +0100
Processing by LoginsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "nombre"=>"gari", "password"=>"[FILTERED]", "commit"=>"INICIAR SESIÃ“N"}
  [1m[36mUser Load (566.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "gari"], ["LIMIT", 1]]
  â†³ app/controllers/logins_controller.rb:7:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 926ms (ActiveRecord: 566.4ms | Allocations: 835)


Started GET "/" for 127.0.0.1 at 2023-11-17 12:40:23 +0100
Processing by CategoriesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (140.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/categories/index.html.erb:5
  Rendered categories/index.html.erb within layouts/application (Duration: 145.9ms | Allocations: 2711)
  Rendered layouts/_header.html.erb (Duration: 1.3ms | Allocations: 1033)
  [1m[36mUser Load (35.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "gari"], ["LIMIT", 1]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mRestaurant Load (42.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" INNER JOIN "restaurants_users" ON "restaurants"."id" = "restaurants_users"."restaurant_id" WHERE "restaurants_users"."user_id" = $1[0m  [["user_id", "gari"]]
  â†³ app/helpers/application_helper.rb:64:in `user_has_restaurants'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."nombre" = $1 LIMIT $2[0m  [["nombre", "gari"], ["LIMIT", 1]]
  â†³ app/helpers/logins_helper.rb:9:in `current_user'
  Rendered layouts/_sidenav.html.erb (Duration: 92.0ms | Allocations: 3864)
  Rendered layout layouts/application.html.erb (Duration: 246.8ms | Allocations: 11471)
Completed 200 OK in 249ms (Views: 29.7ms | ActiveRecord: 218.2ms | Allocations: 11736)


